I"¦7<p>3-1 å˜é‡åœ¨ç¬¬ä¸€æ¬¡è¢«èµ‹å€¼æ—¶è‡ªåŠ¨å£°æ˜ã€‚åœ¨èµ‹å€¼æ—¶è§£é‡Šå™¨ä¼šæ ¹æ®è¯­æ³•å’Œå³ä¾§çš„æ“ä½œæ•°æ¥å†³å®šæ–°å¯¹è±¡çš„ç±»å‹ã€‚</p>

<p>3-2 å‡½æ•°æ€»æ˜¯è¿”å›ä¸€ä¸ªå€¼ï¼Œæ˜¾å¼ return çš„å€¼æˆ–è€… Noneã€‚è¿”å›çš„å€¼çš„ç±»å‹ä¹Ÿæ˜¯åŠ¨æ€ç¡®å®šã€‚</p>

<p>3-3 å› ä¸ºå˜é‡å <strong>xxx</strong> å¯¹ Python æ¥è¯´æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œå¯¹äºæ™®é€šçš„å˜é‡åº”å½“é¿å…è¿™ç§å‘½åé£æ ¼ã€‚</p>

<p>3-4 å¯ä»¥ï¼Œä½¿ç”¨ â€œ;â€</p>

<p>3-5 å¯ä»¥ï¼Œä½¿ç”¨ â€œ" æˆ–è€…æ‹¬å·</p>

<p>3-6</p>

<p>(a)x = 1, y = 2, z = 3</p>

<p>(b)z = 2, x = 3, y = 1</p>

<p>3-7 40XL, $aving$, 0x40L, thisIsnâ€™tAVar, big-daddy, 2hot2touch, counter-1 ä¸åˆæ³•ã€‚ä¸æ˜¯ä»¥å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿å¼€å¤´ï¼Œæˆ–è€…æœ‰éå­—æ¯ä¸‹åˆ’çº¿æ•°å­—çš„å­—ç¬¦ã€‚print, if æ˜¯å…³é”®å­—ã€‚</p>

<p>3-10</p>

<p>ç”¨å¼‚å¸¸å¤„ç†å–ä»£å¯¹ os.path.exists() çš„è°ƒç”¨ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>

<span class="n">ls</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">linesep</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">fname</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">'input a filename:'</span><span class="p">)</span>
<span class="c1">#    if os.path.exists(fname):
#        print "Error: '%s' already exists" % fname
#    else:
#        break
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="n">fobj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">IOError</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">"Error: '%s' already exists"</span> <span class="o">%</span> <span class="n">fname</span>
        <span class="n">fobj</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>

<span class="nb">all</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">print</span> <span class="s">"</span><span class="se">\n</span><span class="s">Enter lines ('.' by itself to quit).</span><span class="se">\n</span><span class="s">"</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">entry</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">'&gt;'</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">entry</span> <span class="o">==</span> <span class="s">'.'</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">all</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

<span class="n">fobj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
<span class="n">fobj</span><span class="p">.</span><span class="n">writelines</span><span class="p">([</span><span class="s">'%s%s'</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">ls</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">all</span><span class="p">])</span>
<span class="n">fobj</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">print</span> <span class="s">'Done!'</span>
</code></pre></div></div>

<p>ç”¨ os.path.exists() å–ä»£å¼‚å¸¸å¤„ç†æ–¹æ³•ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>

<span class="n">fname</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">'Enter filename:'</span><span class="p">)</span>
<span class="k">print</span>

<span class="c1">#try:
#    fobj = open(fname, 'r')
#except IOError, e:
#    print '*** file open error:', e
#else:
#    for eachLine in fobj:
#        print eachLine,
#    fobj.close()
</span><span class="k">if</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="n">fname</span><span class="p">):</span>
    <span class="n">fobj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">eachLine</span> <span class="ow">in</span> <span class="n">fobj</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">eachLine</span><span class="p">,</span>
    <span class="n">fobj</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">'this file not exists'</span>
</code></pre></div></div>

<p>3-11</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>

<span class="n">fname</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">'Enter filename:'</span><span class="p">)</span>
<span class="k">print</span>

<span class="c1">#try:
#    fobj = open(fname, 'r')
#except IOError, e:
#    print '*** file open error:', e
#else:
#    for eachLine in fobj:
#        print eachLine,
#    fobj.close()
</span><span class="k">if</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="n">fname</span><span class="p">):</span>
    <span class="n">fobj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">eachLine</span> <span class="ow">in</span> <span class="n">fobj</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">eachLine</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">fobj</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">'this file not exists'</span>
</code></pre></div></div>

<p>3-12</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"""to read or make a file"""</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="k">def</span> <span class="nf">makeTextFile</span><span class="p">():</span>
    <span class="s">'''make a file'''</span>
    <span class="n">ls</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">linesep</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">fname</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">'input a filename:'</span><span class="p">)</span>
    <span class="c1">#    if os.path.exists(fname):
</span>    <span class="c1">#        print "Error: '%s' already exists" % fname
</span>    <span class="c1">#    else:
</span>    <span class="c1">#        break
</span>        <span class="k">try</span><span class="p">:</span>
            <span class="n">fobj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">IOError</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">"Error: '%s' already exists"</span> <span class="o">%</span> <span class="n">fname</span>
            <span class="n">fobj</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>

    <span class="nb">all</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">print</span> <span class="s">"</span><span class="se">\n</span><span class="s">Enter lines ('.' by itself to quit).</span><span class="se">\n</span><span class="s">"</span>

    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">entry</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">'&gt;'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">entry</span> <span class="o">==</span> <span class="s">'.'</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">all</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

    <span class="n">fobj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
    <span class="n">fobj</span><span class="p">.</span><span class="n">writelines</span><span class="p">([</span><span class="s">'%s%s'</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">ls</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">all</span><span class="p">])</span>
    <span class="n">fobj</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">print</span> <span class="s">'Done!'</span>

<span class="k">def</span> <span class="nf">readTextFile</span><span class="p">():</span>
    <span class="s">'''read a file'''</span>
    <span class="n">fname</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">'Enter filename:'</span><span class="p">)</span>
    <span class="k">print</span>

    <span class="c1">#try:
</span>    <span class="c1">#    fobj = open(fname, 'r')
</span>    <span class="c1">#except IOError, e:
</span>    <span class="c1">#    print '*** file open error:', e
</span>    <span class="c1">#else:
</span>    <span class="c1">#    for eachLine in fobj:
</span>    <span class="c1">#        print eachLine,
</span>    <span class="c1">#    fobj.close()
</span>    <span class="k">if</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="n">fname</span><span class="p">):</span>
        <span class="n">fobj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">eachLine</span> <span class="ow">in</span> <span class="n">fobj</span><span class="p">:</span>
            <span class="k">print</span> <span class="n">eachLine</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">fobj</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">'this file not exists'</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="s">'''main menu'''</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">'1.Read a file'</span>
        <span class="k">print</span> <span class="s">'2.Make a file'</span>
        <span class="k">print</span> <span class="s">'x.exit'</span>
        <span class="n">myStr</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">'input your choice:'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">myStr</span> <span class="o">==</span> <span class="s">'1'</span><span class="p">:</span>
            <span class="n">readTextFile</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">myStr</span> <span class="o">==</span> <span class="s">'2'</span><span class="p">:</span>
            <span class="n">makeTextFile</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">myStr</span> <span class="o">==</span> <span class="s">'x'</span><span class="p">:</span>
            <span class="k">break</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div></div>

<p>3-13</p>

<p>Windows ä¸‹ curses æ¨¡å—è²Œä¼¼æ— æ³•æ­£å¸¸ä½¿ç”¨â€¦â€¦</p>

<p>è¿‚å›çš„å®ç°æ€è·¯æ˜¯å°†æ–‡ä»¶å†…å®¹æŒ‰è¡Œè¯»å–åˆ°ä¸€ä¸ªåˆ—è¡¨é‡Œï¼Œ</p>

<p>ç„¶åè®©ç”¨æˆ·ä¿®æ”¹æ¯ä¸€è¡Œï¼Œ</p>

<p>æœ€åè®©ç”¨æˆ·é€‰æ‹©æ˜¯å¦ä¿å­˜ï¼Œ</p>

<p>ä¿å­˜åˆ™é‡å†™æ–‡ä»¶ï¼Œ</p>

<p>ä¸ä¿å­˜åˆ™é€€å‡ºã€‚</p>
:ET