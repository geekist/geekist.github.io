I"<p><strong>更新：</strong> 此文发到 <a href="https://v2ex.com/t/761286">V2EX</a> 后，有网友指出文中的案例代码改写为 <code class="language-plaintext highlighter-rouge">List&lt;String&gt; result = paramList.parallelStream().map(this::doSomething).collect(toList());</code> 就能很好的解决，确实如此，当时代码审查时意识到这里有线程安全问题，然后我就有点思维定势，只想着用解决线程安全问题的方式去处理，没有换个角度想到这种更好的写法。以下仍然保留原文，阅读重点可以放「线程安全」的分析理解上，<code class="language-plaintext highlighter-rouge">parallelStream</code> 权当为了举例而简写的一种多线程写法。实际遇上它时可以优先用 <code class="language-plaintext highlighter-rouge">parallelStream.map().collect()</code> 和 <code class="language-plaintext highlighter-rouge">parallelStream.flatMap().collect()</code> 这类方案。</p>
:ET